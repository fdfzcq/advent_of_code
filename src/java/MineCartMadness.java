import java.util.*;
public class MineCartMadness{
	public static void main(String[] args){
		String input = "   /----------------------------------------------------------------------------------------------\\                                                   \n   |        /-----------------------------------------------------\\                               |                                                   \n   |     /--+-----------------------------------------------------+-------------------------------+--\\                            /---------\\         \n /-+-----+--+-------------------------------------------------\\   |                               |  |                            |         |         \n | |     |  |     /-------------------------------------------+---+--------------------------\\    |  |                            |         |         \n | |     |  |    /+---------------\\                           |   |            /-------------+----+--+----------------------------+-------\\ |         \n | |     |  |    ||               |                      /----+---+------------+\\            |    |  |                            |       | |         \n | |     |  |    ||               |                      |    |   |        /---++------------+----+--+-----------------\\          |       | |         \n | |     |  |    ||               |                      |    |   |        |   ||  /---------+----+--+-----------------+---------\\|       | |         \n | |     |  |    ||               |                      |   /+---+--------+---++--+---------+----+--+----------\\      |         ||       | |         \n | |     |  |    ||        /------+----------------------+-\\ ||   |        |   ||  |         |    |  |          |      |         ||       | |         \n | |     |  |    ||        |      |                      | | ||  /+--------+---++--+---------+--\\ |  |          |      |         ||       | |         \n | |     |  |    ||        |     /+----------------------+-+-++--++--------+---++--+---------+--+-+--+----------+------+-----\\   ||       | |         \n | |     |  |    ||       /+-----++----------------------+-+-++--++--------+---++--+---------+--+-+--+------\\   |      |     |   ||       | |         \n | |     |  |    ||       ||     ||                      | | ||  ||        |   ||  |         |  | |  |    /-+---+------+-----+---++\\      | |         \n | |  /--+--+----++--<----++-----++------------\\         | | ||  ||        |   ||  |         |  | |  |    | |  /+------+-----+---+++---\\  | |         \n | |  |  |  |   /++-------++-----++--\\         |      /--+-+-++--++--------+---++--+---------+--+-+--+----+-+--++------+-----+---+++---+--+-+--\\      \n | |  |  |  |   |||  /----++-----++--+---------+----\\ |  | | ||  ||        \\---++--+---------+--+-+--+----+-+--++------/     |   |||   |  | |  |      \n | \\--+--+--+---+++--+----++-----++--+---------+----+-+--+-+-++--++------------++--+---------+--+-/  |    | |  ||            |   |||   |  | |  |      \n |    |  |  |   |||  |    ||     ||  |       /-+----+-+--+-+-++--++------------++--+---------+--+----+----+-+--++------------+---+++-\\ |  | |  |      \n |  /-+--+--+---+++--+----++----\\||  |       | |    | |  | | ||  ||            ||  |         |  |    |    | |  ||            |   ||| | |  | |  |      \n |/-+-+--+--+---+++--+----++----+++--+-------+-+----+-+--+-+-++--++------------++\\ |         |  |    |    | |  ||            |   |\\+-+-+--+-/  |      \n || | |  |  |   |||  |    ||  /-+++--+-------+-+----+-+--+-+-++--++------------+++-+---------+--+----+----+-+--++------------+-<\\| | | |  |    |      \n || | |  |  |   |||  |    ||  | |||  |       |/+----+-+--+-+-++--++------------+++-+---------+--+----+---\\| |  ||            |  || | | |  |    |      \n || | |  |  |   |||  |    ||  | |||  |       |||/---+-+--+-+-++--++--------\\ /-+++-+---------+--+----+---++-+--++------------+--++-+-+-+--+----+-\\    \n || | |  |  |/--+++--+----++--+-+++--+-------++++---+-+--+-+-++--++--------+-+-+++-+---------+--+----+---++-+--++\\           |  || | | |  |    | |    \n || | |  |  ||  |||  |    ||  | |||  |       ||||   | | /+-+-++--++--------+-+-+++-+---------+--+----+---++-+--+++--------\\  |  || | | |  |    | |    \n || | |  |  ||  |||  |    ||  | |||  |       ||||/--+-+-++-+-++--++--------+-+-+++-+---------+--+----+---++-+--+++--------+\\ |  || | | |  |    | |    \n || | |  |  ||  ||| /+----++--+-+++--+-------+++++--+-+-++\\| ||  ||        | | \\++-+---------+--+----+---++-+--+++--------++-+--++-+-+-+--/    | |    \n || | |  |  ||  ||| || /--++--+-+++--+-------+++++\\ | | |||| ||  ||       /+-+--++-+---------+--+----+---++-+--+++--------++-+--++-+-+-+-----\\ | |    \n || | |  |  ||  ||| || |  ||  | |||  |       |||||| | | |||| || /++-------++-+--++-+----\\/---+--+----+---++-+--+++--------++-+--++-+-+-+\\    | | |    \n || | \\--+--++--+++-++-+--++--+-+++--+-------++/||| | | ||||/++-+++-------++-+--++-+----++---+--+----+---++-+--+++--------++-+--++-+-+-++----+-+-+\\   \n || |    |  ||  ||| || |  ||  | |||  |    /--++-+++-+-+-+++++++-+++-------++-+--++\\|    ||   |  |  /-+---++-+--+++--------++-+--++-+-+-++----+-+-++\\  \n || |    |  ||  ||| || |  ||  | |||  |/---+--++-+++-+-+-+++++++-+++-------++-+--++++----++---+\\ |  | |   || |  |||        || |  |^ | | ||    | | |||  \n || |    |  || /+++-++-+--++--+-+++--++---+--++-+++-+-+-+++++++-+++-------++-+--++++----++---++-+--+-+---++-+--+++--\\     || |  || | | ||    | | |||  \n || |    | /++-++++-++-+--++--+-+++--++---+--++-+++-+-+-+++++++-+++-------++-+--++++-\\  ||   || |  | |/->++-+--+++--+--\\  || |  || | | v|    | | |||  \n || |    |/+++-++++-++-+--++\\ | |||  ||   |  || ||| | | |||||\\+-+++-------++-+--++++-+--++---++-+--+-++--++-+--+/|  |  |  || |  || | | ||    | | |||  \n || |    |||\\+-++++-++-+--+++-+-+++--++---+--++-+++-+-+-+++++-+-++/ /-----++-+--++++-+--++---++-+\\ | ||  || |  \\-+--+--+--++-+--++-+-+-/|    | | |||  \n || |    ||| | |||| || |  ||| | |||  ||   |  || |||/+-+-+++++-+-++--+-----++-+--++++-+--++---++-++-+-++--++-+\\   |  | /+--++-+--++-+\\|  |    | | |||  \n || |    ||| | |||| || |  ||| | |||  ||   |  || ||||| | ||||| | ||  |     || |  |||| |  ||   || || | ||  || ||   |  | ||  || |  || |||  |    | | |||  \n || |    ||| | |||| || |  ||| | |||  || /-+--++-+++++-+-+++++-+-++--+-----++-+--++++-+--++---++-++-+-++--++-++\\  |  | ||  || |  || |||  |    | | |||  \n |\\-+----+++-+-++++-++-+--+++-+-+++--++-+-+--++-+++++-+-+++++-+-++--+-----++-+--+/|| |  ||   || || | ||  || |||  |  | ||  || |  || |||  |    | | |||  \n |  |    ||| | |||| || |  ||| | |||  || | |  || ||||| | ||||| | ||  |     || |  | || |  ||   || || | ||  || |||  |  | ||  || |  || |||  |    | | |||  \n |  |    ||| | |||| || |  ||| | |||  || | |  || ||||| | ||||| | ||  |     || |  | || |  ||   || || | ||  || |||  |  | ||  || |  || |||  |    | | |||  \n |  |    ||| | |||| || |  ||| | |||/-++-+-+--++-+++++-+-+++++-+-++--+-----++-+--+-++-+--++---++-++-+-++--++-+++--+--+-++--++-+\\ || |||  |    | | |||  \n |  |    ||| | |||| || |  ||| | |||| || | |  || ||||| |/+++++-+-++--+-----++-+--+-++-+--++\\  || || | ||  ||/+++--+--+-++--++-++-++-+++--+\\   | | |||  \n |  |    ||| | |||| || |  ||| | |||| || | |  || ||||| ||||||| |/++--+-----++-+--+-++-+--+++--++-++-+-++--++++++--+--+-++--++\\|| || |||  ||   | | |||  \n |  |   /+++-+-++++-++-+--+++-+-++++-++-+-+--++-+++++-+++++++-++++--+-----++-+--+-++-+--+++--++-++-+-++--++++++\\ |  | ||  ||||| || |||  ||   | | |||  \n |  |   |||| | |||| || |  ||| | |||| || | |  || ||||| ||||||| ||||  |     || |  | || |  |||  || || | ||  ||||||| |  | ||  ||||| || |||  ||   | | |||  \n |  |   |||| | |||| || |  ||| | |||| |\\-+-+--++-+++++-+++++++-++++--+-----++-+--+-++-+--+++--+/ || |/++--+++++++-+--+-++--+++++-++\\|||  ||   | | |||  \n |  |   |||| | |||| || \\--+++-+-++++-+--+-+--++-++/|| ||||||| ||||  |     || |  | || |  |||  |  || |||\\--+++++++-+--+-+/  ||||| ||||||  ||   | | |||  \n |  |   |||| | |||| ||    ||| | |||| |/-+-+--++-++-++-+++++++-++++--+-----++-+--+-++-+--+++--+--++-+++--\\||||||| |  | |   ||||| ||||||  ||   | | |||  \n |  |   |||| | |||| ||    ||| |/++++-++-+-+\\ || || || ||\\++++-++++--+-----++-+--+-++-+--+++--+--++-+++--++++++++-+--+-+---/|||| ||||||  ||   | | |||  \n |  |   |||| | \\+++-++----+++-++++++-++-+-++-++-++-++-++-++++-++++--+-----++-+--+-++-+--+++--+--++-+++--++++++++-+--/ |    |||| ||||||  ||   | | |||  \n/+--+---++++-+--+++-++----+++-++++++-++-+-++-++-++-++-++-++++-++++--+---\\ || | /+-++-+--+++--+--++-+++--++++++++-+----+----++++-++++++--++-\\ | | |||  \n||  |   |||| |  ||| ||    ||| |||||| || | ||/++-++-++-++-++++-++++--+---+-++-+-++-++-+--+++--+--++-+++--++++++++-+--\\ |    |||| ||||||  || | | | |||  \n||  |   |||| v  ||| ||    ||| |||||| || | ||||| || || || |||| |||| /+---+-++-+-++-++-+--+++--+--++-+++--++++++++-+--+-+----++++-++++++--++-+-+-+-+++\\ \n||  |   |||| |  ||\\-++----+++-++++++-++-+-+++++-++-++-++-++++-++++-++---+-++-+-++-++-+--+++--/  || |||  |||||||| |  | |    |||| ||||||  || | | | |||| \n||  |   |||| |  ||  |\\----+++-++++++-++-+-+++++-++-+/ || |||| |||| |\\---+-++-+-++-++-+--+++-----+/ |||  |||||||| |  | |    |||| ||||||  || | | | |||| \n||  |   |||| |  ||  | /---+++-++++++-++-+-+++++-++-+--++-++++-++++-+----+-++-+-++-++-+--+++-----+--+++--++++++++-+-\\| |    |||| ||||||  || | | | |||| \n||  |   |||| |  ||  | |   ||| |||||| ||/+-+++++-++-+--++-++++-++++-+----+-++-+-++-++-+--+++---<-+\\ |||  |||||||| | || |    |||| ||||||  || | | | |||| \n||  |   |||| |  ||  | |   ||| |||||| |||| \\++++-++-+--++-++++-++++-+----+-++-+-++-/| | /+++-----++-+++--++++++++-+-++-+----++++-++++++--++\\| | | |||| \n||  |   \\+++-+--++--+-+---+++-++++++-++++--++++-++-+--++-++++-++++-+----+-++-+-++--+-+-++++-----++-+++--+++++++/ | || |    |||| ||||||  |||| | | |||| \n||  |/---+++-+--++--+-+---+++-++++++-++++--++++-++-+--++-++++-++++\\|    | || | ||  | | ||||     || |||  |||||||  | || |    |||| ||||||  |||| | | |||| \n||  ||   ||| |  ||  | |   ||| |||||| |||| /++++-++-+--++-++++-++++++----+-++\\|/++--+-+-++++---\\ || |||  ||||||| /+-++-+----++++-++++++\\ |||| | | |||| \n||  ||   ||| |  ||  | |   ||| |\\++++-++++-+/||| || |  || |||| ||||||    | |||||||  | | ||||   | || |||  ||||||| || || |    |||| ||||||| |||| | | |||| \n||  ||   |||/+--++--+\\|   ||| | |||| |||| | ||| || |  || |||| |||\\++----+-+++++++--+-+-++++---+-/| \\++--+++++++-++-++-+----++++-+++++++-++++-+-+-++/| \n||  ||   |||||  ||  |||   ||| | |||| |||| | ||| |\\-+--++-++++-+++-++----+-+++++++--+-+-++++---+--+--++--+++++++-++-++-+----/||| ||||||| |||| | | || | \n||  ||   |||||  ||  |||   ||| | |||| |||| | ||| |  |  |\\-++++-+++-++----+-+++++++--+-+-+++/   |  |  ||  ||||||| || || |     ||| ||||||| |||| | | || | \n||  ||   |||||  ||  |||   ||| | |||| |||| | ||| |  |  |  |||| ||| ||    | |||\\+++--+-+-+++----+--+--++--+++++++-++-++-+-----+++-+++++++-++++-+-+-/| | \n||  ||   |||||  ||  |||   ||| | |||| |||| | |||/+--+--+--++++-+++-++----+-+++-+++--+-+-+++----+--+--++--+++++++-++-++-+-----+++-+++++++-++++-+-+--+-+\\\n||  ||   |||||  ||  |||  /+++-+-++++-++++-+-+++++--+--+--++++-+++-++----+-+++-+++->+-+-+++----+--+--++--+++++++-++-++-+-----+++\\||||||| |||| | |  | ||\n||  ||   |||||  ||  ||\\--++++-+-++++-++++-+-+++++--+--+--++++-+++-++----+-+++-+++--+-+-+++----+--+--++--+++++++-++-/| |     ||||||||||| |||| | |  | ||\n||  ||   |||||  ||  ||   |||| | |||| |||| | |\\+++--+--+--++++-+++-++----+-+++-+++--+-+>+++----+--+--++--+++++++-++--+-+-----+++++++++/| |||| | |  | ||\n||  ||   |||||  ||  ||   |||| |/++++-++++-+-+-+++--+--+--++++\\||| || /--+-+++-+++--+-+-+++----+--+--++--+++++++-++-\\| |     ||||||||| | |||| | |  | ||\n||  ||   |||||  ||  ||   |\\++-++++++-++++-+-+-+++--+--+--++++++++-++-+--+-+++-+++--+-+-+++----+--+--++--++++/|| || || |     ||||||||| | |||| | |  | ||\n||  ||   |||||  || /++---+-++-++++++\\|||| | | |||  | /+--++++++++-++-+--+-+++-+++--+-+-+++----+--+--++--++++-++-++-++-+-----+++++++++-+-++++-+-+--+\\||\n||  ||   |||||  || |||   | || ||||||||||| | | |||  | ||  \\+++++++-++-+--+-+++-++/  | | |||    |  |  ||  |||| || || || |     ||||||||| | |||| | |  ||||\n|\\--++---+++++--++-+++---+-++-+++++++++++-+-+-+++--+-++---++++/|| || |  | ||| ||   | | |||    |  |  ||  |||| || ^| || |     ||||||||| | |||| | |  ||||\n|   ||   |||||  || |||   | || ||||||||||| \\-+-+++--+-++---++++-++-++-+--+-++/ ||   | | |||    |  |  ||  |||| || || || |     ||||||||| | |||| | |  ||||\n|   ||   |||||  || |||   | || |||||||||||  /+-+++--+-++---++++-++-++-+--+-++--++---+-+-+++----+--+--++--++++-++-++-++-+-----+++++++++-+-++++-+-+\\ ||||\n|   ||   |||||  || |||  /+-++-+++++++++++--++-+++--+-++---++++-++-++-+--+-++--++\\  | | |||    |  |  ||  |||| || || || |     ||||||||| | |||| | || ||||\n|   ||   |||||  || |||  || || |||||||||||  || |||  | ||   |||| || || |  | ||  |||  | | |||    |  |  ||  |||| || || || |     ||||||||| | |||| | || ||||\n|   ||   |||||  || |||  || || |||||||||||  || |||  | |\\---++++-++-++-+--+-++--+++--+-+-+++----+--+--++--++++-++-++-++-+-----+++++++++-+-++++-+-/| ||||\n|   ||   |||||  || |||  || || |||||||||||  || |||  | |    |||| || || |  | ||  |||  | | |||    |  |  ||  ||\\+-++-++-++-+-----+++++++/| | |||| |  | ||||\n|   ||   |||||  || |||  || || |||||||||||  || |||  | |    |||| || || |  | ||  |||  | | |||    |  |  ||  || | || || || |     ||||||| | | |||| |  | ||||\n|   ||   |||||  || |||  || || |||||||||||  || |||  | |    |||| || || |  | ||  |||  | | ||\\----+--+--++--++-+-++-++-++-+-----+++++++-+-+-/||| |  | ||||\n|   ||   |||||  || |||  || || \\++++++++++--++-+++--+-+----++++-++-++-+--+-++--+++--+-+-++-----+--+--++--++-+-++-++-++-+-----++++/|| | |  ||| |  | ||||\n|   ||   |||||  || |||  || ||  ||||||||||  || |||  | |    |||| || |\\-+--+-++--+++--+-+-++-----+--+--++--++-+-++-++-++-+-----++++-++-+-+--+++-+--+-++/|\n|   ||   |||||  |\\-+++--++-++--+++/||||||  || |||  | |    |||| || |  |  | ||  |\\+--+-+-++-----+--+--++--++-+-++-++-++-+-----++++-++-+-+--++/ |  | || |\n|   |\\---+++++--+--+++--++-++--+++-++++++--++-+++--+-+----++++-++-/  |  | ||  | |  | | || /---+--+--++--++-+-++-++-++-+--\\  |||| || | |  ||  |  | || |\n|   |    |||||  |  |||  || ||  ||| ||||\\+--++-+++--+-+----++++-++----+--+-++--+-+--+-+-++-+---+--/  ||  || | || || || |  |  |||| || | |  ||  |  | || |\n|   |  /-+++++->+--+++--++-++--+++-++++-+--++-+++--+-+----++++-++----+--+-++--+-+--+-+-++-+---+-----++--++-+-++\\|| || |  |  |||| || | |  ||  |  | || |\n| /-+--+-+++++--+--+++--++-++--+++-++++-+--++-+++--+-+----++++-++----+--+-++--+-+--+-+-++-+---+-----++--++-+\\||||| || |  |  |||| || | |  ||  |  | || |\n| | |  | |||||  |  |||  || ||  ||| |||| |  || |||  | |    |||| ||    |  | ||  | |  | | || |   |     ||  || ||||||| || |  |  |||| |v | |  ||  |  | || |\n| | |  | |||||  |  |||  || ||  ||| |||| |  || |||  | |  />++++-++----+--+-++--+-+\\ \\-+-++-+---+-----++--++-+++++++-++-+--+--++++-/| | |  ||  |  | || |\n| | |  | |||||  |  |||  || ||  ||| |||| |  || |||  | |  | |||| ||/---+--+-++--+-++---+-++-+---+-----++--++\\||||||| || |  |  ||||  | | |  ||  |  | || |\n| | |  | ||||\\--+--+++--++-++--+++-++++-+--++-+++--+-+--+-++++-+++---+--+-++--+-++---+-++-+---+-----++--+++++++++/ || |  |  ||||  | | |  ||  |  | || |\n| | |  | ||||   |  |||  || ||  ||| |||| |  || |||  | |  | |||| |||   |  | ||  | ||   | ||/+---+-----++\\ |||||||||  || |  |  ||||  | | |  ||  |  | || |\n| | |  | ||||   |  |||  || ||  ||| |||| |  || |||  | |  | |||| |||   |  | ||  | ||   |/++++---+----\\||| |||||||||  || |  |  ||||  | | |  ||  |  | || |\n| | |  | ||||   |  |||  || ||  ||| |||| |  || |||  | |/-+-++++-+++---+--+-++--+-++---++++++---+----++++-+++++++++--++-+--+--++++--+-+-+--++--+\\ | || |\n| | |  | ||||   |  |||  || ||/-+++-++++-+--++-+++--+-++-+-++++-+++---+--+-++--+-++---++++++\\  |    |||| |||||||||  || |  |  ||||  | | |  ||  || | || |\n| | |/-+-++++---+--+++--++-+++-+++-++++-+--++-+++--+-++-+-++++-+++---+--+-++--+-++---+++++++--+--\\ |||| |||||||||  || |  |  ||||  | | |  ||  || | || |\n| | || |/++++---+--+++--++-+++-+++-++++-+-\\|| |||  | || | |||| \\++---+--+-++--+-++---+++++++--+--+-++++-+++++++++--++-+--+--/|||  | | |  ||  || | || |\n| | || ||||\\+---+--+++--++-+++-+++-++++-+-+++-+++--+-++-+-++++--++---+--+-++--+-++---/||||||  | /+-++++-+++++++++--++\\|  |   |||  | | |  ||  || | || |\n| | || |||| |/--+--+++-\\|| ||| ||| |||| | ||\\-+++<-+-++-+-++++--++---+--+-++--+-++----++++++--+-++-++++-+++++++++--+/||  |   |||  | | |  ||  || | || |\n| | || |||| ||  |  ||| ||| ||| |||/++++-+-++--+++-\\| || | ||\\+--++---+--+-++--+-++----++++++--+-++-++++-+++++++++--+-++--+---+++--+-+-+--++--++-+-/| |\n| | \\+-++++-++--+--+++-+++-+++-+/|||||| | ||  ||| || || \\-++-+--++---+--+-++--+-+/ /--++++++\\ | || |||| |||||||||  | ||  |   |||  | | |  ||  || |  | |\n| |  | ||\\+-++--+--+++-+++-+++-+-++++++-+-++--+++-++-++---++-+--++---+--+-++--+-+--+--+++++++-+-++-++/| ||||||||\\--+-++--+---+++--+-+-/  ||  || |  | |\n|/+--+-++-+-++--+--+++-+++-+++-+-++++++-+-++--+++-++-++---++-+--++---+--+-++--+-+--+--+++++++-+-++-++\\| ||||||||   | ||  |   |||  | |    ||  || |  | |\n|||  | || | ||  \\--+++-+++-+++-+-++++/| \\-++--+++-++-++---++-+--++---+--+-++--+-+--+--+++++++-+-++-++++-++++++/|   | ||  |   |||  | |    ||  || |  | |\n|||  | || | ||     ||| ||| ||| | |||| |   ||  ||| || ||   || |  \\+---+--+-++--+-+--+--++/|||| | || |||| |||||| |   | ||  |   |||  | |    ||  || |  | |\n|||/-+-++-+-++-----+++-+++-+++-+-++++-+---++--+++-++-++---++\\|   |   |  | ||  | |  |  || |||| | || |||| |||||| |   | ||  |   |||  | |    ||  || |  | |\n|||| | || | ||     ||| ||| ||| | \\+++-+---++--+++-++-++---++++---+---+--+-++--+-+--+--++-++++-+-++-++++-++++++-+---+-++--+---/||  | |    ||  || |  | |\n|||| | || | ||     ||| ||| ||| |  ||| |   ||  ||\\-++-++---++++---+---+--+-+/  | |  |  || |||| | || |||| |||||| |   | ||  |    || /+-+----++--++-+--+\\|\n|||| | || | ||     ||| ||| ||| \\--+++-+---++--++--++-++---+++/   |   |  | |   | |  |  || |||| | || |||| |||||| |   | ||  |    || || |    ||  || |  |||\n|||| | || \\-++-----+++-+++-+/|    ||| |   ||  ||  || ||   |||    |/--+--+-+--\\| |  |  \\+-++++-+-++-/||| |||\\++-+---+-++--+----++-++-+----/|  || |  |||\n|||| | ||   ||     ||| ||| \\-+----+++-+---++--++--++-++---+/|    ||  |  | |  || |  |   |/++++-+-++--+++-+++-++-+---+-++--+---\\|| || |     |  || |  |||\n|||| | ||   ||     ||| |||   |    \\++-+---++--++--/| \\+---+-+----++--+--+-+--++-+--+---++++++-+-++--+++-+++-++-+---+-++--+---+++-++-+-----+--++-+--/||\n|||| | ||   ||     ||| |||   |     || |   ||  ||   |  |   | |    ||  \\--+-+--++-+--+---++++++-+-++--+++-+++-++-+---/ ||  |   ||| || |     |  || |   ||\n|||| | \\+---++-----+++-+++---+-----++-+---++--++---+--+---+-+----++-----+-+--++-+--+---++++++-+-++--+++-+++-++-/     ||  |   ||| || |     |  || |   ||\n|||| |  |   ||     ||| |||   |     || |   ||  ||   |  |   | |    ||     | |  || |  |   |||||| | \\+--+++-+++-++-------/|  |   ||| || |     |  || |   ||\n|||| |  |   ||     ||| |||   |     || |   ||  |\\---+--+---+-+----++-----+-+--++-+--+---++++++-+--+--+++-+++-++--------+--+---+++-++-+-----+--++-+---+/\n|||| |  |   \\+-----++/ |||   |     || |   ||  \\----+--+---+-+----++-----+-+--++-+--+---++++++-+--+--+++-+/| ||        |  |   ||| || |     |  || |   | \n|||| |  \\----+-----++--+++---+-----++-+---/|       \\--+---+-+----++-----+-+--++-+--+---++++++-+--+--+++-+-+-+/        \\--+---+++-++-/     |  || |   | \n|||| |       |     ||  |||   |     |v |    |    /-----+---+-+----++-----+-+--++-+--+---++++++-+--+--+++-+-+-+----\\       |   ||| ||       |  || |   | \n|||| |       |     ||  ||\\---+-----++-+----+----+-----+---+-+----++-----+-+--++-+--+---++++++-+--+--+++-+-+-+--<-+-------+---++/ ||       |  || |   | \n|||| |       |     ||  ||    |     || |    |    |     |   | |    ||     | \\--++-+--+---++++++-+--+--+++-+-+-+----+-------+---++--++-------+--/| |   | \n|||| |  /----+-----++--++--\\ |     || |    |    |     |   | |    ||     |    || |  |   |\\++++-+--+--+++-+-+-+----+-------+---/|  ||       |   | |   | \n|||| |  |    |     ||  ||  | |     || |   /+----+-----+---+-+--\\ ||     |    || |  |   | |\\++-+--+--+++-+-+-+----+-------/    |  ||       |   | |   | \n|||| |  |    |     ||  ||  | |     || |   ||    |     |   | |  | ||     |    || |  |   \\-+-++-+--+--+++-+-+-+----+------------+--++-------/   | |   | \n||\\+-+--+----+-----++--++--+-+-----++-+-->++----+-----+---+-+--+-++-----+----++-+--+-----+-++-+--+--+++-+-+-/    |            |  ||           | |   | \n|| | \\--+----+-----++--++--+-+-----++-+---++----+-----+---+-+--+-++-----+----++-+--+-----+-++-+--/  |||/+-+------+---\\        |  ||           | |   | \n|| |    |    |     ||  |\\--+-+-----++-+---++----+-----+---+-+--+-++-----+----++-/  |     | || |     ||||| |      |   |        |  ||           | |   | \n|| |    |    |     ||  |   | \\-----++-+---++----+-----+---+-+--+-++-----+----++----+-----+-/| |     ||||| |      |   |        |  ||           | |   | \n|| |    |    |     |\\--+---+-------++-+---++----+-----+---/ |  | ||     |    ||    |     |  | |     ||||| |      |   |        |  ||           | |   | \n|| |    |    \\-----+---/   |       || |   ||    |     |     |  | ||     |    ||    |     |  | |     \\++++-+------+---+--------+--+/           | |   | \n|| |    |          \\-------+-------+/ |   ||    |     \\-----+--+-++-----+----++----+-----+--+-+------++++-+------+---+--------+--+------------/ |   | \n|\\-+----+------------------+-------+--+---++----+-----------+--+-++-----+----++----+-----+--+-+------/||| |      |   |        |  |              |   | \n|  |    |                  |       |  \\---++----+-----------+--+-++-----+----++----+-----+--+-+-------++/ |      |   |        |  |              |   | \n|  |    |                  |       |      \\+----+-----------+--/ |\\-----+----/|    |     \\--+-+-------/|  |      |   |        |  |              |   | \n|  |    |                  |       |       |    \\-----------+----+------+-----+----+--------+-+--------+--+------/   |        |  |              |   | \n|  |    |                  |       |       |                |    |      |     |    |        | |        |  |          |        |  |              |   | \n|  |    \\------------------/       \\-------+----------------+----+------+-----+----+--------+-+--------+--+----------+--------/  |              |   | \n\\--+---------------------------------------+----------------+----+------/     |    \\--------/ |        \\--+----------/           |              |   | \n   |                                       |                |    |            |               |           |                      |              |   | \n   |                                       \\----------------+----+------------+---------------+-----------+----------------------+--------------/   | \n   |                                                        |    |            |               |           |                      \\------------------/ \n   \\--------------------------------------------------------/    \\------------+---------------+-----------/                                           \n                                                                              \\---------------/                                                       ";
	//String input = "/>-<\\  \n|   |  \n| /<+-\\\n| | | v\n\\>+</ |\n  |   ^\n  \\<->/";
		String[] strList = input.split("\n");
		char[][] charList = new char[strList.length][strList[0].length()];

		List<Cart> carts = new ArrayList<Cart>();

		for(int i=0; i < strList.length; i++){
			char[] chars = strList[i].toCharArray();
			for(int j=0; j < chars.length; j++){
				charList[i][j] = chars[j];
				if(chars[j] == '^' || chars[j] == 'v' || chars[j] == '<' || chars[j] == '>'){
					Cart cart = new Cart(chars[j], j, i);
					carts.add(cart);
				}
			}
		}

		boolean flag = true;


		while(flag){
			int n = 0;
			for(Cart cart: carts){
				if(cart.active){
					if(cart.direction == '^'){
						charList[cart.y][cart.x] = cart.old == '0' ? '|' : cart.old;
						cart.y = cart.y - 1;
					}
					if(cart.direction == 'v'){
						charList[cart.y][cart.x] = cart.old == '0' ? '|' : cart.old;
						cart.y = cart.y + 1;
					}
					if(cart.direction == '<'){
						charList[cart.y][cart.x] = cart.old == '0' ? '-' : cart.old;
						cart.x = cart.x - 1;
					}
					if(cart.direction == '>'){
						charList[cart.y][cart.x] = cart.old == '0' ? '-' : cart.old;
						cart.x = cart.x + 1;
					}
					//System.out.println("X: " + cart.x + ", Y: " + cart.y + ", Dir: " + cart.direction);
					if(charList[cart.y][cart.x] == 'v' || charList[cart.y][cart.x] == '^' || charList[cart.y][cart.x] == '<' || charList[cart.y][cart.x] == '>'){
						// System.out.println("X: " + cart.x + ", Y: " + cart.y);
						// flag = false;
						for(Cart cart2: carts){
							if(cart2.direction != cart.direction && cart2.y == cart.y && cart2.x == cart.x && cart2.active){
								System.out.println("Collided X: " + cart.x + ", Y:" + cart.y + ", Dir: " + cart.direction + ", Old: " + cart2.old + ", Carts: " + cart + " and " + cart2);
								cart2.active = false;
								cart.active = false;
								charList[cart.y][cart.x] = cart2.old;
							}
						}
					} else {
						cart.set_new_direction(charList[cart.y][cart.x]);
						cart.old = charList[cart.y][cart.x];
						charList[cart.y][cart.x] = cart.direction;
					}
				}
			}
			for(Cart cart: carts){
				if(cart.active){
					System.out.println("X: " + cart.x + ", Y:" + cart.y + ", Dir: " + cart.direction + ", Size: " + carts.size());
					n++;
				}
			}
			if(n == 1){
				flag = false;
			}
		}
	}

	static class Cart{
		char direction;
		char old;
		int state;
		int x;
		int y;
		boolean active;

		public Cart(char direction, int x, int y){
			this.direction = direction;
			this.x = x;
			this.y = y;
			this.state = 0;
			this.old = '0';
			this.active = true;
		}

		public void set_new_direction(char c){
			if(c == '+'){
				if(this.state % 3 == 0){
					if(this.direction == '^'){ this.direction = '<';}
					else if(this.direction == '<'){ this.direction = 'v';}
					else if(this.direction == '>'){ this.direction = '^';}
					else if(this.direction == 'v'){ this.direction = '>';}
				}
				if(this.state % 3 == 2){
					if(this.direction == '^'){ this.direction = '>';}
					else if(this.direction == '<'){ this.direction = '^';}
					else if(this.direction == '>'){ this.direction = 'v';}
					else if(this.direction == 'v'){ this.direction = '<';}
				}
				this.state = this.state + 1;
			}
			if(c == '/'){
				if(this.direction == '^'){ this.direction = '>';}
				else if(this.direction == 'v'){ this.direction = '<';}
				else if(this.direction == '<'){ this.direction = 'v';}
				else if(this.direction == '>'){ this.direction = '^';}
			}
			if(c == '\\'){
				if(this.direction == '^'){ this.direction = '<';}
				else if(this.direction == 'v'){ this.direction = '>';}
				else if(this.direction == '<'){ this.direction = '^';}
				else if(this.direction == '>'){ this.direction = 'v';}
			}
		}
	}
}
